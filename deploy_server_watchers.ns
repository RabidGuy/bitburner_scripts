export async function main(ns) {
    var server_list_filename = ns.args[0];
    while (!ns.fileExists(server_list_filename)) {
        ns.sleep(10 * 1000);
    }
    ns.sleep(10 * 1000);
    var server_list = ns.read(server_list_filename).split("\n");
    // ns.tprint(server_list);
    server_list.forEach(function(server) {
        ns.run("server_watcher.ns" , 1, server);
    }) 
}
